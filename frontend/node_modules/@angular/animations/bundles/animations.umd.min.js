!function(global,factory){if("function"==typeof define&&define.amd)define("@angular/animations",["exports"],factory);else if("undefined"!=typeof exports)factory(exports);else{var mod={exports:{}};factory(mod.exports),global.ng=global.ng||{},global.ng.animations=mod.exports}}(this,function(exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function trigger(a,b){return{name:a,definitions:b}}function animate(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:b,timings:a}}function group(a){return{type:3,steps:a}}function sequence(a){return{type:2,steps:a}}function style(a){var b=void 0,c=null;return b=Array.isArray(a)?a:[a],b.forEach(function(d){var e=d.offset;null!=e&&(c=null==c?parseFloat(e):c)}),_style(c,b)}function _style(a,b){return{type:6,styles:b,offset:a}}function state(a,b){return{type:0,name:a,styles:b}}function keyframes(a){return{type:5,steps:a}}function transition(a,b){return{type:1,expr:a,animation:Array.isArray(b)?sequence(b):b}}function scheduleMicroTask(a){Promise.resolve(null).then(a)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AUTO_STYLE="*",AnimationPlayer=function(){function AnimationPlayer(){_classCallCheck(this,AnimationPlayer)}return _createClass(AnimationPlayer,[{key:"onDone",value:function(){}},{key:"onStart",value:function(){}},{key:"onDestroy",value:function(){}},{key:"init",value:function(){}},{key:"hasStarted",value:function(){}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){}},{key:"destroy",value:function(){}},{key:"reset",value:function(){}},{key:"setPosition",value:function(){}},{key:"getPosition",value:function(){}},{key:"parentPlayer",get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(a){throw new Error("NOT IMPLEMENTED: Base Class")}}]),AnimationPlayer}(),NoopAnimationPlayer=function(){function NoopAnimationPlayer(){var _this=this;_classCallCheck(this,NoopAnimationPlayer),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,scheduleMicroTask(function(){return _this._onFinish()})}return _createClass(NoopAnimationPlayer,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(a){return a()}),this._onDoneFns=[])}},{key:"onStart",value:function(a){this._onStartFns.push(a)}},{key:"onDone",value:function(a){this._onDoneFns.push(a)}},{key:"onDestroy",value:function(a){this._onDestroyFns.push(a)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStartFns.forEach(function(a){return a()}),this._onStartFns=[]),this._started=!0}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),this._onDestroyFns.forEach(function(a){return a()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(){}},{key:"getPosition",value:function(){return 0}}]),NoopAnimationPlayer}(),AnimationGroupPlayer=function(){function AnimationGroupPlayer(a){var _this2=this;_classCallCheck(this,AnimationGroupPlayer),this._players=a,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null;var b=0,c=this._players.length;0==c?scheduleMicroTask(function(){return _this2._onFinish()}):this._players.forEach(function(d){d.parentPlayer=_this2,d.onDone(function(){++b>=c&&_this2._onFinish()})})}return _createClass(AnimationGroupPlayer,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(a){return a()}),this._onDoneFns=[])}},{key:"init",value:function(){this._players.forEach(function(a){return a.init()})}},{key:"onStart",value:function(a){this._onStartFns.push(a)}},{key:"onDone",value:function(a){this._onDoneFns.push(a)}},{key:"onDestroy",value:function(a){this._onDestroyFns.push(a)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(a){return a()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(a){return a.play()})}},{key:"pause",value:function(){this._players.forEach(function(a){return a.pause()})}},{key:"restart",value:function(){this._players.forEach(function(a){return a.restart()})}},{key:"finish",value:function(){this._onFinish(),this._players.forEach(function(a){return a.finish()})}},{key:"destroy",value:function(){this._destroyed||(this._onFinish(),this._players.forEach(function(a){return a.destroy()}),this._destroyed=!0,this._onDestroyFns.forEach(function(a){return a()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._players.forEach(function(a){return a.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(a){this._players.forEach(function(b){b.setPosition(a)})}},{key:"getPosition",value:function(){var a=0;return this._players.forEach(function(b){var c=b.getPosition();a=Math.min(c,a)}),a}},{key:"players",get:function(){return this._players}}]),AnimationGroupPlayer}();exports.AUTO_STYLE=AUTO_STYLE,exports.animate=animate,exports.group=group,exports.keyframes=keyframes,exports.sequence=sequence,exports.state=state,exports.style=style,exports.transition=transition,exports.trigger=trigger,exports.AnimationPlayer=AnimationPlayer,exports.NoopAnimationPlayer=NoopAnimationPlayer,exports.ÉµAnimationGroupPlayer=AnimationGroupPlayer});