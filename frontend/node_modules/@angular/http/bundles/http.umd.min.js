!function(global,factory){if("function"==typeof define&&define.amd)define("@angular/http",["exports","@angular/core","rxjs/Observable","@angular/platform-browser"],factory);else if("undefined"!=typeof exports)factory(exports,require("@angular/core"),require("rxjs/Observable"),require("@angular/platform-browser"));else{var mod={exports:{}};factory(mod.exports,global.ng.core,global.Rx,global.ng.platformBrowser),global.ng=global.ng||{},global.ng.http=mod.exports}}(this,function(exports,_core,_Observable,_platformBrowser){"use strict";function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function normalizeMethodName(a){if("string"!=typeof a)return a;switch(a.toUpperCase()){case"GET":return RequestMethod.Get;case"POST":return RequestMethod.Post;case"PUT":return RequestMethod.Put;case"DELETE":return RequestMethod.Delete;case"OPTIONS":return RequestMethod.Options;case"HEAD":return RequestMethod.Head;case"PATCH":return RequestMethod.Patch}throw new Error('Invalid request method. The method "'+a+'" is not supported.')}function getResponseURL(a){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}function stringToArrayBuffer(a){for(var b=new Uint16Array(a.length),c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function paramParser(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=new Map;if(0<a.length){var c=a.split("&");c.forEach(function(d){var e=d.indexOf("="),_ref2=-1==e?[d,""]:[d.slice(0,e),d.slice(e+1)],_ref3=_slicedToArray(_ref2,2),f=_ref3[0],g=_ref3[1],h=b.get(f)||[];h.push(g),b.set(f,h)})}return b}function standardEncoding(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function _getJsonpConnections(){var a="object"==("undefined"==typeof window?"undefined":_typeof(window))?window:{};return null==_jsonpConnections&&(_jsonpConnections=a[JSONP_HOME]={}),_jsonpConnections}function httpRequest(a,b){return a.createConnection(b).response}function mergeOptions(a,b,c,d){var e=a;return b?e.merge(new RequestOptions({method:b.method||c,url:b.url||d,search:b.search,params:b.params,headers:b.headers,body:b.body,withCredentials:b.withCredentials,responseType:b.responseType})):e.merge(new RequestOptions({method:c,url:d}))}function _createDefaultCookieXSRFStrategy(){return new CookieXSRFStrategy}function httpFactory(a,b){return new Http(a,b)}function jsonpFactory(a,b){return new Jsonp(a,b)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ɵd=exports.ɵc=exports.ɵb=exports.ɵe=exports.ɵa=exports.ɵg=exports.VERSION=exports.URLSearchParams=exports.QueryEncoder=exports.Response=exports.Request=exports.XSRFStrategy=exports.ConnectionBackend=exports.Connection=exports.JsonpModule=exports.HttpModule=exports.Jsonp=exports.Http=exports.Headers=exports.ResponseType=exports.ResponseContentType=exports.RequestMethod=exports.ReadyState=exports.ResponseOptions=exports.BaseResponseOptions=exports.RequestOptions=exports.BaseRequestOptions=exports.XHRConnection=exports.XHRBackend=exports.CookieXSRFStrategy=exports.JSONPConnection=exports.JSONPBackend=exports.BrowserXhr=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BrowserXhr=function(){function BrowserXhr(){_classCallCheck(this,BrowserXhr)}return _createClass(BrowserXhr,[{key:"build",value:function(){return new XMLHttpRequest}}]),BrowserXhr}();BrowserXhr.decorators=[{type:_core.Injectable}],BrowserXhr.ctorParameters=function(){return[]};var RequestMethod={};RequestMethod.Get=0,RequestMethod.Post=1,RequestMethod.Put=2,RequestMethod.Delete=3,RequestMethod.Options=4,RequestMethod.Head=5,RequestMethod.Patch=6,RequestMethod[RequestMethod.Get]="Get",RequestMethod[RequestMethod.Post]="Post",RequestMethod[RequestMethod.Put]="Put",RequestMethod[RequestMethod.Delete]="Delete",RequestMethod[RequestMethod.Options]="Options",RequestMethod[RequestMethod.Head]="Head",RequestMethod[RequestMethod.Patch]="Patch";var ReadyState={};ReadyState.Unsent=0,ReadyState.Open=1,ReadyState.HeadersReceived=2,ReadyState.Loading=3,ReadyState.Done=4,ReadyState.Cancelled=5,ReadyState[ReadyState.Unsent]="Unsent",ReadyState[ReadyState.Open]="Open",ReadyState[ReadyState.HeadersReceived]="HeadersReceived",ReadyState[ReadyState.Loading]="Loading",ReadyState[ReadyState.Done]="Done",ReadyState[ReadyState.Cancelled]="Cancelled";var ResponseType={};ResponseType.Basic=0,ResponseType.Cors=1,ResponseType.Default=2,ResponseType.Error=3,ResponseType.Opaque=4,ResponseType[ResponseType.Basic]="Basic",ResponseType[ResponseType.Cors]="Cors",ResponseType[ResponseType.Default]="Default",ResponseType[ResponseType.Error]="Error",ResponseType[ResponseType.Opaque]="Opaque";var ContentType={};ContentType.NONE=0,ContentType.JSON=1,ContentType.FORM=2,ContentType.FORM_DATA=3,ContentType.TEXT=4,ContentType.BLOB=5,ContentType.ARRAY_BUFFER=6,ContentType[ContentType.NONE]="NONE",ContentType[ContentType.JSON]="JSON",ContentType[ContentType.FORM]="FORM",ContentType[ContentType.FORM_DATA]="FORM_DATA",ContentType[ContentType.TEXT]="TEXT",ContentType[ContentType.BLOB]="BLOB",ContentType[ContentType.ARRAY_BUFFER]="ARRAY_BUFFER";var ResponseContentType={};ResponseContentType.Text=0,ResponseContentType.Json=1,ResponseContentType.ArrayBuffer=2,ResponseContentType.Blob=3,ResponseContentType[ResponseContentType.Text]="Text",ResponseContentType[ResponseContentType.Json]="Json",ResponseContentType[ResponseContentType.ArrayBuffer]="ArrayBuffer",ResponseContentType[ResponseContentType.Blob]="Blob";var Headers=function(){function Headers(a){var _this=this;return _classCallCheck(this,Headers),this._headers=new Map,this._normalizedNames=new Map,a?a instanceof Headers?void a.forEach(function(b,c){b.forEach(function(d){return _this.append(c,d)})}):void Object.keys(a).forEach(function(b){var c=Array.isArray(a[b])?a[b]:[a[b]];_this.delete(b),c.forEach(function(d){return _this.append(b,d)})}):void 0}return _createClass(Headers,[{key:"append",value:function(a,b){var c=this.getAll(a);null===c?this.set(a,b):c.push(b)}},{key:"delete",value:function(a){var b=a.toLowerCase();this._normalizedNames.delete(b),this._headers.delete(b)}},{key:"forEach",value:function(a){var _this2=this;this._headers.forEach(function(b,c){return a(b,_this2._normalizedNames.get(c),_this2._headers)})}},{key:"get",value:function(a){var b=this.getAll(a);return null===b?null:0<b.length?b[0]:null}},{key:"has",value:function(a){return this._headers.has(a.toLowerCase())}},{key:"keys",value:function(){return Array.from(this._normalizedNames.values())}},{key:"set",value:function(a,b){Array.isArray(b)?b.length&&this._headers.set(a.toLowerCase(),[b.join(",")]):this._headers.set(a.toLowerCase(),[b]),this.mayBeSetNormalizedName(a)}},{key:"values",value:function(){return Array.from(this._headers.values())}},{key:"toJSON",value:function(){var _this3=this,a={};return this._headers.forEach(function(b,c){var d=[];b.forEach(function(e){return d.push.apply(d,_toConsumableArray(e.split(",")))}),a[_this3._normalizedNames.get(c)]=d}),a}},{key:"getAll",value:function(a){return this.has(a)?this._headers.get(a.toLowerCase()):null}},{key:"entries",value:function(){throw new Error('"entries" method is not implemented on Headers class')}},{key:"mayBeSetNormalizedName",value:function(a){var b=a.toLowerCase();this._normalizedNames.has(b)||this._normalizedNames.set(b,a)}}],[{key:"fromResponseHeaderString",value:function(a){var b=new Headers;return a.split("\n").forEach(function(c){var d=c.indexOf(":");if(0<d){var e=c.slice(0,d),f=c.slice(d+1).trim();b.set(e,f)}}),b}}]),Headers}(),ResponseOptions=function(){function ResponseOptions(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=_ref.body,b=_ref.status,c=_ref.headers,d=_ref.statusText,e=_ref.type,f=_ref.url;_classCallCheck(this,ResponseOptions),this.body=null==a?null:a,this.status=null==b?null:b,this.headers=null==c?null:c,this.statusText=null==d?null:d,this.type=null==e?null:e,this.url=null==f?null:f}return _createClass(ResponseOptions,[{key:"merge",value:function(a){return new ResponseOptions({body:a&&null!=a.body?a.body:this.body,status:a&&null!=a.status?a.status:this.status,headers:a&&null!=a.headers?a.headers:this.headers,statusText:a&&null!=a.statusText?a.statusText:this.statusText,type:a&&null!=a.type?a.type:this.type,url:a&&null!=a.url?a.url:this.url})}}]),ResponseOptions}(),BaseResponseOptions=function(_ResponseOptions){function BaseResponseOptions(){return _classCallCheck(this,BaseResponseOptions),_possibleConstructorReturn(this,(BaseResponseOptions.__proto__||Object.getPrototypeOf(BaseResponseOptions)).call(this,{status:200,statusText:"Ok",type:ResponseType.Default,headers:new Headers}))}return _inherits(BaseResponseOptions,_ResponseOptions),BaseResponseOptions}(ResponseOptions);BaseResponseOptions.decorators=[{type:_core.Injectable}],BaseResponseOptions.ctorParameters=function(){return[]};var ConnectionBackend=function(){function ConnectionBackend(){_classCallCheck(this,ConnectionBackend)}return _createClass(ConnectionBackend,[{key:"createConnection",value:function(){}}]),ConnectionBackend}(),Connection=function Connection(){_classCallCheck(this,Connection)},XSRFStrategy=function(){function XSRFStrategy(){_classCallCheck(this,XSRFStrategy)}return _createClass(XSRFStrategy,[{key:"configureRequest",value:function(){}}]),XSRFStrategy}(),isSuccess=function(a){return 200<=a&&300>a},QueryEncoder=function(){function QueryEncoder(){_classCallCheck(this,QueryEncoder)}return _createClass(QueryEncoder,[{key:"encodeKey",value:function(a){return standardEncoding(a)}},{key:"encodeValue",value:function(a){return standardEncoding(a)}}]),QueryEncoder}(),URLSearchParams=function(){function URLSearchParams(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new QueryEncoder;_classCallCheck(this,URLSearchParams),this.rawParams=a,this.queryEncoder=b,this.paramsMap=paramParser(a)}return _createClass(URLSearchParams,[{key:"clone",value:function(){var a=new URLSearchParams("",this.queryEncoder);return a.appendAll(this),a}},{key:"has",value:function(a){return this.paramsMap.has(a)}},{key:"get",value:function(a){var b=this.paramsMap.get(a);return Array.isArray(b)?b[0]:null}},{key:"getAll",value:function(a){return this.paramsMap.get(a)||[]}},{key:"set",value:function(a,b){if(void 0===b||null===b)return void this.delete(a);var c=this.paramsMap.get(a)||[];c.length=0,c.push(b),this.paramsMap.set(a,c)}},{key:"setAll",value:function(a){var _this5=this;a.paramsMap.forEach(function(b,c){var d=_this5.paramsMap.get(c)||[];d.length=0,d.push(b[0]),_this5.paramsMap.set(c,d)})}},{key:"append",value:function(a,b){if(void 0!==b&&null!==b){var c=this.paramsMap.get(a)||[];c.push(b),this.paramsMap.set(a,c)}}},{key:"appendAll",value:function(a){var _this6=this;a.paramsMap.forEach(function(b,c){for(var d=_this6.paramsMap.get(c)||[],e=0;e<b.length;++e)d.push(b[e]);_this6.paramsMap.set(c,d)})}},{key:"replaceAll",value:function(a){var _this7=this;a.paramsMap.forEach(function(b,c){var d=_this7.paramsMap.get(c)||[];d.length=0;for(var e=0;e<b.length;++e)d.push(b[e]);_this7.paramsMap.set(c,d)})}},{key:"toString",value:function(){var _this8=this,a=[];return this.paramsMap.forEach(function(b,c){b.forEach(function(d){return a.push(_this8.queryEncoder.encodeKey(c)+"="+_this8.queryEncoder.encodeValue(d))})}),a.join("&")}},{key:"delete",value:function(a){this.paramsMap.delete(a)}}]),URLSearchParams}(),Body=function(){function Body(){_classCallCheck(this,Body)}return _createClass(Body,[{key:"json",value:function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body}},{key:"text",value:function(){return this._body instanceof URLSearchParams?this._body.toString():this._body instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint16Array(this._body)):null==this._body?"":"object"==_typeof(this._body)?JSON.stringify(this._body,null,2):this._body.toString()}},{key:"arrayBuffer",value:function(){return this._body instanceof ArrayBuffer?this._body:stringToArrayBuffer(this.text())}},{key:"blob",value:function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")}}]),Body}(),Response=function(_Body){function Response(a){var _this9;return _classCallCheck(this,Response),_this9=_possibleConstructorReturn(this,(Response.__proto__||Object.getPrototypeOf(Response)).call(this)),_this9._body=a.body,_this9.status=a.status,_this9.ok=200<=_this9.status&&299>=_this9.status,_this9.statusText=a.statusText,_this9.headers=a.headers,_this9.type=a.type,_this9.url=a.url,_this9}return _inherits(Response,_Body),_createClass(Response,[{key:"toString",value:function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url}}]),Response}(Body),_nextRequestId=0,JSONP_HOME="__ng_jsonp__",_jsonpConnections=null,BrowserJsonp=function(){function BrowserJsonp(){_classCallCheck(this,BrowserJsonp)}return _createClass(BrowserJsonp,[{key:"build",value:function(a){var b=document.createElement("script");return b.src=a,b}},{key:"nextRequestID",value:function(){return"__req"+_nextRequestId++}},{key:"requestCallback",value:function(a){return JSONP_HOME+"."+a+".finished"}},{key:"exposeConnection",value:function(a,b){var c=_getJsonpConnections();c[a]=b}},{key:"removeConnection",value:function(a){var b=_getJsonpConnections();b[a]=null}},{key:"send",value:function(a){document.body.appendChild(a)}},{key:"cleanup",value:function(a){a.parentNode&&a.parentNode.removeChild(a)}}]),BrowserJsonp}();BrowserJsonp.decorators=[{type:_core.Injectable}],BrowserJsonp.ctorParameters=function(){return[]};var JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function JSONPConnection(){_classCallCheck(this,JSONPConnection)}return _createClass(JSONPConnection,[{key:"finished",value:function(){}}]),JSONPConnection}(),JSONPConnection_=function(_JSONPConnection){function JSONPConnection_(a,b,c){var _this10;if(_classCallCheck(this,JSONPConnection_),_this10=_possibleConstructorReturn(this,(JSONPConnection_.__proto__||Object.getPrototypeOf(JSONPConnection_)).call(this)),_this10._dom=b,_this10.baseResponseOptions=c,_this10._finished=!1,a.method!==RequestMethod.Get)throw new TypeError(JSONP_ERR_WRONG_METHOD);return _this10.request=a,_this10.response=new _Observable.Observable(function(d){_this10.readyState=ReadyState.Loading;var e=_this10._id=b.nextRequestID();b.exposeConnection(e,_this10);var f=b.requestCallback(_this10._id),g=a.url;-1<g.indexOf("=JSONP_CALLBACK&")?g=g.replace("=JSONP_CALLBACK&","="+f+"&"):g.lastIndexOf("=JSONP_CALLBACK")===g.length-"=JSONP_CALLBACK".length&&(g=g.substring(0,g.length-"=JSONP_CALLBACK".length)+("="+f));var h=_this10._script=b.build(g),j=function(){if(_this10.readyState!==ReadyState.Cancelled){if(_this10.readyState=ReadyState.Done,b.cleanup(h),!_this10._finished){var o=new ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:ResponseType.Error,url:g});return c&&(o=c.merge(o)),void d.error(new Response(o))}var n=new ResponseOptions({body:_this10._responseData,url:g});_this10.baseResponseOptions&&(n=_this10.baseResponseOptions.merge(n)),d.next(new Response(n)),d.complete()}},l=function(m){if(_this10.readyState!==ReadyState.Cancelled){_this10.readyState=ReadyState.Done,b.cleanup(h);var n=new ResponseOptions({body:m.message,type:ResponseType.Error});c&&(n=c.merge(n)),d.error(new Response(n))}};return h.addEventListener("load",j),h.addEventListener("error",l),b.send(h),function(){_this10.readyState=ReadyState.Cancelled,h.removeEventListener("load",j),h.removeEventListener("error",l),_this10._dom.cleanup(h)}}),_possibleConstructorReturn(_this10)}return _inherits(JSONPConnection_,_JSONPConnection),_createClass(JSONPConnection_,[{key:"finished",value:function(a){this._finished=!0,this._dom.removeConnection(this._id),this.readyState===ReadyState.Cancelled||(this._responseData=a)}}]),JSONPConnection_}(JSONPConnection),JSONPBackend=function(_ConnectionBackend){function JSONPBackend(){return _classCallCheck(this,JSONPBackend),_possibleConstructorReturn(this,(JSONPBackend.__proto__||Object.getPrototypeOf(JSONPBackend)).apply(this,arguments))}return _inherits(JSONPBackend,_ConnectionBackend),JSONPBackend}(ConnectionBackend),JSONPBackend_=function(_JSONPBackend){function JSONPBackend_(a,b){var _this12;return _classCallCheck(this,JSONPBackend_),_this12=_possibleConstructorReturn(this,(JSONPBackend_.__proto__||Object.getPrototypeOf(JSONPBackend_)).call(this)),_this12._browserJSONP=a,_this12._baseResponseOptions=b,_this12}return _inherits(JSONPBackend_,_JSONPBackend),_createClass(JSONPBackend_,[{key:"createConnection",value:function(a){return new JSONPConnection_(a,this._browserJSONP,this._baseResponseOptions)}}]),JSONPBackend_}(JSONPBackend);JSONPBackend_.decorators=[{type:_core.Injectable}],JSONPBackend_.ctorParameters=function(){return[{type:BrowserJsonp},{type:ResponseOptions}]};var XSSI_PREFIX=/^\)\]\}',?\n/,XHRConnection=function(){function XHRConnection(a,b,c){var _this13=this;_classCallCheck(this,XHRConnection),this.request=a,this.response=new _Observable.Observable(function(d){var e=b.build();e.open(RequestMethod[a.method].toUpperCase(),a.url),null!=a.withCredentials&&(e.withCredentials=a.withCredentials);var f=function(){var h=1223===e.status?204:e.status,j=null;204!==h&&(j="undefined"==typeof e.response?e.responseText:e.response,"string"==typeof j&&(j=j.replace(XSSI_PREFIX,""))),0===h&&(h=j?200:0);var l=Headers.fromResponseHeaderString(e.getAllResponseHeaders()),m=getResponseURL(e)||a.url,n=e.statusText||"OK",o=new ResponseOptions({body:j,status:h,headers:l,statusText:n,url:m});null!=c&&(o=c.merge(o));var p=new Response(o);return p.ok=isSuccess(h),p.ok?(d.next(p),void d.complete()):void d.error(p)},g=function(h){var j=new ResponseOptions({body:h,type:ResponseType.Error,status:e.status,statusText:e.statusText});null!=c&&(j=c.merge(j)),d.error(new Response(j))};if(_this13.setDetectedContentType(a,e),null==a.headers&&(a.headers=new Headers),a.headers.has("Accept")||a.headers.append("Accept","application/json, text/plain, */*"),a.headers.forEach(function(h,j){return e.setRequestHeader(j,h.join(","))}),null!=a.responseType&&null!=e.responseType)switch(a.responseType){case ResponseContentType.ArrayBuffer:e.responseType="arraybuffer";break;case ResponseContentType.Json:e.responseType="json";break;case ResponseContentType.Text:e.responseType="text";break;case ResponseContentType.Blob:e.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return e.addEventListener("load",f),e.addEventListener("error",g),e.send(_this13.request.getBody()),function(){e.removeEventListener("load",f),e.removeEventListener("error",g),e.abort()}})}return _createClass(XHRConnection,[{key:"setDetectedContentType",value:function(a,b){if(null==a.headers||null==a.headers.get("Content-Type"))switch(a.contentType){case ContentType.NONE:break;case ContentType.JSON:b.setRequestHeader("content-type","application/json");break;case ContentType.FORM:b.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case ContentType.TEXT:b.setRequestHeader("content-type","text/plain");break;case ContentType.BLOB:var c=a.blob();c.type&&b.setRequestHeader("content-type",c.type)}}}]),XHRConnection}(),CookieXSRFStrategy=function(){function CookieXSRFStrategy(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XSRF-TOKEN",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"X-XSRF-TOKEN";_classCallCheck(this,CookieXSRFStrategy),this._cookieName=a,this._headerName=b}return _createClass(CookieXSRFStrategy,[{key:"configureRequest",value:function(a){var b=(0,_platformBrowser.ɵgetDOM)().getCookie(this._cookieName);b&&a.headers.set(this._headerName,b)}}]),CookieXSRFStrategy}(),XHRBackend=function(){function XHRBackend(a,b,c){_classCallCheck(this,XHRBackend),this._browserXHR=a,this._baseResponseOptions=b,this._xsrfStrategy=c}return _createClass(XHRBackend,[{key:"createConnection",value:function(a){return this._xsrfStrategy.configureRequest(a),new XHRConnection(a,this._browserXHR,this._baseResponseOptions)}}]),XHRBackend}();XHRBackend.decorators=[{type:_core.Injectable}],XHRBackend.ctorParameters=function(){return[{type:BrowserXhr},{type:ResponseOptions},{type:XSRFStrategy}]};var RequestOptions=function(){function RequestOptions(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=_ref4.method,b=_ref4.headers,c=_ref4.body,d=_ref4.url,e=_ref4.search,f=_ref4.params,g=_ref4.withCredentials,h=_ref4.responseType;_classCallCheck(this,RequestOptions),this.method=null==a?null:normalizeMethodName(a),this.headers=null==b?null:b,this.body=null==c?null:c,this.url=null==d?null:d,this.params=this._mergeSearchParams(f||e),this.withCredentials=null==g?null:g,this.responseType=null==h?null:h}return _createClass(RequestOptions,[{key:"search",get:function(){return this.params},set:function(a){this.params=a}}]),_createClass(RequestOptions,[{key:"merge",value:function(a){return new RequestOptions({method:a&&null!=a.method?a.method:this.method,headers:a&&null!=a.headers?a.headers:new Headers(this.headers),body:a&&null!=a.body?a.body:this.body,url:a&&null!=a.url?a.url:this.url,params:a&&this._mergeSearchParams(a.params||a.search),withCredentials:a&&null!=a.withCredentials?a.withCredentials:this.withCredentials,responseType:a&&null!=a.responseType?a.responseType:this.responseType})}},{key:"_mergeSearchParams",value:function(a){return a?a instanceof URLSearchParams?a.clone():"string"==typeof a?new URLSearchParams(a):this._parseParams(a):this.params}},{key:"_parseParams",value:function(){var _this14=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=new URLSearchParams;return Object.keys(a).forEach(function(c){var d=a[c];Array.isArray(d)?d.forEach(function(e){return _this14._appendParam(c,e,b)}):_this14._appendParam(c,d,b)}),b}},{key:"_appendParam",value:function(a,b,c){"string"!=typeof b&&(b=JSON.stringify(b)),c.append(a,b)}}]),RequestOptions}(),BaseRequestOptions=function(_RequestOptions){function BaseRequestOptions(){return _classCallCheck(this,BaseRequestOptions),_possibleConstructorReturn(this,(BaseRequestOptions.__proto__||Object.getPrototypeOf(BaseRequestOptions)).call(this,{method:RequestMethod.Get,headers:new Headers}))}return _inherits(BaseRequestOptions,_RequestOptions),BaseRequestOptions}(RequestOptions);BaseRequestOptions.decorators=[{type:_core.Injectable}],BaseRequestOptions.ctorParameters=function(){return[]};var Request=function(_Body2){function Request(a){_classCallCheck(this,Request);var _this16=_possibleConstructorReturn(this,(Request.__proto__||Object.getPrototypeOf(Request)).call(this)),b=a.url;if(_this16.url=a.url,a.params){var c=a.params.toString();if(0<c.length){var d="?";-1!=_this16.url.indexOf("?")&&(d="&"==_this16.url[_this16.url.length-1]?"":"&"),_this16.url=b+d+c}}return _this16._body=a.body,_this16.method=normalizeMethodName(a.method),_this16.headers=new Headers(a.headers),_this16.contentType=_this16.detectContentType(),_this16.withCredentials=a.withCredentials,_this16.responseType=a.responseType,_this16}return _inherits(Request,_Body2),_createClass(Request,[{key:"detectContentType",value:function(){switch(this.headers.get("content-type")){case"application/json":return ContentType.JSON;case"application/x-www-form-urlencoded":return ContentType.FORM;case"multipart/form-data":return ContentType.FORM_DATA;case"text/plain":case"text/html":return ContentType.TEXT;case"application/octet-stream":return this._body instanceof ArrayBuffer$1?ContentType.ARRAY_BUFFER:ContentType.BLOB;default:return this.detectContentTypeFromBody()}}},{key:"detectContentTypeFromBody",value:function(){return null==this._body?ContentType.NONE:this._body instanceof URLSearchParams?ContentType.FORM:this._body instanceof FormData?ContentType.FORM_DATA:this._body instanceof Blob$1?ContentType.BLOB:this._body instanceof ArrayBuffer$1?ContentType.ARRAY_BUFFER:this._body&&"object"==_typeof(this._body)?ContentType.JSON:ContentType.TEXT}},{key:"getBody",value:function(){switch(this.contentType){case ContentType.JSON:return this.text();case ContentType.FORM:return this.text();case ContentType.FORM_DATA:return this._body;case ContentType.TEXT:return this.text();case ContentType.BLOB:return this.blob();case ContentType.ARRAY_BUFFER:return this.arrayBuffer();default:return null}}}]),Request}(Body),noop=function(){},w="object"==("undefined"==typeof window?"undefined":_typeof(window))?window:noop,FormData=w.FormData||noop,Blob$1=w.Blob||noop,ArrayBuffer$1=w.ArrayBuffer||noop,Http=function(){function Http(a,b){_classCallCheck(this,Http),this._backend=a,this._defaultOptions=b}return _createClass(Http,[{key:"request",value:function(a,b){var c=void 0;if("string"==typeof a)c=httpRequest(this._backend,new Request(mergeOptions(this._defaultOptions,b,RequestMethod.Get,a)));else{if(!(a instanceof Request))throw new Error("First argument must be a url string or Request instance.");c=httpRequest(this._backend,a)}return c}},{key:"get",value:function(a,b){return this.request(new Request(mergeOptions(this._defaultOptions,b,RequestMethod.Get,a)))}},{key:"post",value:function(a,b,c){return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:b})),c,RequestMethod.Post,a)))}},{key:"put",value:function(a,b,c){return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:b})),c,RequestMethod.Put,a)))}},{key:"delete",value:function(a,b){return this.request(new Request(mergeOptions(this._defaultOptions,b,RequestMethod.Delete,a)))}},{key:"patch",value:function(a,b,c){return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({body:b})),c,RequestMethod.Patch,a)))}},{key:"head",value:function(a,b){return this.request(new Request(mergeOptions(this._defaultOptions,b,RequestMethod.Head,a)))}},{key:"options",value:function(a,b){return this.request(new Request(mergeOptions(this._defaultOptions,b,RequestMethod.Options,a)))}}]),Http}();Http.decorators=[{type:_core.Injectable}],Http.ctorParameters=function(){return[{type:ConnectionBackend},{type:RequestOptions}]};var Jsonp=function(_Http){function Jsonp(a,b){return _classCallCheck(this,Jsonp),_possibleConstructorReturn(this,(Jsonp.__proto__||Object.getPrototypeOf(Jsonp)).call(this,a,b))}return _inherits(Jsonp,_Http),_createClass(Jsonp,[{key:"request",value:function(a,b){var c=void 0;if("string"==typeof a&&(a=new Request(mergeOptions(this._defaultOptions,b,RequestMethod.Get,a))),!(a instanceof Request))throw new Error("First argument must be a url string or Request instance.");if(a.method!==RequestMethod.Get)throw new Error("JSONP requests must use GET request method.");return c=httpRequest(this._backend,a)}}]),Jsonp}(Http);Jsonp.decorators=[{type:_core.Injectable}],Jsonp.ctorParameters=function(){return[{type:ConnectionBackend},{type:RequestOptions}]};var HttpModule=function HttpModule(){_classCallCheck(this,HttpModule)};HttpModule.decorators=[{type:_core.NgModule,args:[{providers:[{provide:Http,useFactory:httpFactory,deps:[XHRBackend,RequestOptions]},BrowserXhr,{provide:RequestOptions,useClass:BaseRequestOptions},{provide:ResponseOptions,useClass:BaseResponseOptions},XHRBackend,{provide:XSRFStrategy,useFactory:_createDefaultCookieXSRFStrategy}]}]}],HttpModule.ctorParameters=function(){return[]};var JsonpModule=function JsonpModule(){_classCallCheck(this,JsonpModule)};JsonpModule.decorators=[{type:_core.NgModule,args:[{providers:[{provide:Jsonp,useFactory:jsonpFactory,deps:[JSONPBackend,RequestOptions]},BrowserJsonp,{provide:RequestOptions,useClass:BaseRequestOptions},{provide:ResponseOptions,useClass:BaseResponseOptions},{provide:JSONPBackend,useClass:JSONPBackend_}]}]}],JsonpModule.ctorParameters=function(){return[]};var VERSION=new _core.Version("4.0.0-rc.1");exports.BrowserXhr=BrowserXhr,exports.JSONPBackend=JSONPBackend,exports.JSONPConnection=JSONPConnection,exports.CookieXSRFStrategy=CookieXSRFStrategy,exports.XHRBackend=XHRBackend,exports.XHRConnection=XHRConnection,exports.BaseRequestOptions=BaseRequestOptions,exports.RequestOptions=RequestOptions,exports.BaseResponseOptions=BaseResponseOptions,exports.ResponseOptions=ResponseOptions,exports.ReadyState=ReadyState,exports.RequestMethod=RequestMethod,exports.ResponseContentType=ResponseContentType,exports.ResponseType=ResponseType,exports.Headers=Headers,exports.Http=Http,exports.Jsonp=Jsonp,exports.HttpModule=HttpModule,exports.JsonpModule=JsonpModule,exports.Connection=Connection,exports.ConnectionBackend=ConnectionBackend,exports.XSRFStrategy=XSRFStrategy,exports.Request=Request,exports.Response=Response,exports.QueryEncoder=QueryEncoder,exports.URLSearchParams=URLSearchParams,exports.VERSION=VERSION,exports.ɵg=BrowserJsonp,exports.ɵa=JSONPBackend_,exports.ɵe=Body,exports.ɵb=_createDefaultCookieXSRFStrategy,exports.ɵc=httpFactory,exports.ɵd=jsonpFactory});